<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rifa Online - Compre sua Cota</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Rifa Online</h1>
        <p>Participe da nossa rifa e concorra a prêmios incríveis!</p>
    </header>
    <main>
        <section class="info">
            <h2>Sobre a Rifa</h2>
            <p>Estamos realizando uma rifa com cotas a partir de R$5, onde você pode ganhar prêmios em dinheiro!</p>
            <p>Prêmio Principal: R$500</p>
            <p>20 bilhetes premiados de R$50 instantaneamente.</p>
            <p>Sorteio após a venda de 70% das cotas.</p>
            <p>90% das cotas estão disponiveis, ainda temos 20 bilhetes premiados.</p>
        </section>
        <section class="purchase">
            <h2>Compre sua Cota</h2>
            <form id="purchase-form" onsubmit="handleSubmit(event)">
                <label for="name">Nome:</label>
                <input type="text" id="name" name="name" required>
                
                <label for="phone">Telefone:</label>
                <input type="tel" id="phone" name="phone" required>
                
                <label for="quantity">Quantidade de Cotas:</label>
                <input type="number" id="quantity" name="quantity" min="1" value="1" required>
                
                <button type="submit">Comprar</button>
            </form>
        </section>
        <section id="payment-info" style="display:none;">
            <h2>Informações de Pagamento</h2>
            <p>Chave PIX: <strong>142.101.867.59</strong></p>
            <img src="qr-code.png" alt="QR Code" width="200">
            <p id="total-amount"></p>
            <button onclick="confirmPayment()">Já paguei</button>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Rifa Online. Todos os direitos reservados.</p>
    </footer>
    <script>
        function handleSubmit(event) {
            event.preventDefault();
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const quantity = document.getElementById('quantity').value;

            // Calcula o total em reais
            const totalAmount = quantity * 5;
            document.getElementById('total-amount').innerText = `Total a pagar: R$ ${totalAmount.toFixed(2)}`;

            // Mostra as informações de pagamento
            document.getElementById('payment-info').style.display = 'block';

            // Gera o link do WhatsApp
            const message = `Nome: ${name}%0AContato: ${phone}%0AQuantidade de cotas: ${quantity}%0ATotal: R$ ${totalAmount.toFixed(2)}`;
            const whatsappLink = `https://api.whatsapp.com/send?phone=27997294468&text=${message}`;
            const purchaseButton = document.createElement('a');
            purchaseButton.href = whatsappLink;
            purchaseButton.target = '_blank';
            purchaseButton.innerText = 'Enviar Pedido';
            purchaseButton.style.display = 'block';
            purchaseButton.style.marginTop = '10px';
            purchaseButton.style.padding = '10px';
            purchaseButton.style.backgroundColor = '#007BFF';
            purchaseButton.style.color = 'white';
            purchaseButton.style.textAlign = 'center';
            purchaseButton.style.borderRadius = '5px';
            purchaseButton.style.textDecoration = 'none';
            document.getElementById('purchase-form').appendChild(purchaseButton);
        }

        function confirmPayment() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const quantity = document.getElementById('quantity').value;
            const totalAmount = quantity * 5;

            // Gera a mensagem de confirmação de pagamento
            const confirmationMessage = `Já paguei!%0ANome: ${name}%0AContato: ${phone}%0AQuantidade de cotas: ${quantity}%0ATotal: R$ ${totalAmount.toFixed(2)}`;
            const confirmationLink = `https://api.whatsapp.com/send?phone=27997294468&text=${confirmationMessage}`;
            window.open(confirmationLink, '_blank');
        }
    </script>
</body>
</html>